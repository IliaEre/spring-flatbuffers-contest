2021-09-16 11:55:53,806 [INFO] root consoleworker.py:434	Log file created
2021-09-16 11:55:53,807 [INFO] root consoleworker.py:438	Logging handler <logging.FileHandler object at 0x7f4e8f442c10> added
2021-09-16 11:55:53,808 [INFO] root consoleworker.py:438	Logging handler <logging.StreamHandler object at 0x7f4e8f48a850> added
2021-09-16 11:55:53,809 [INFO] root consoleworker.py:438	Logging handler <logging.StreamHandler object at 0x7f4e8f42ea50> added
2021-09-16 11:55:53,810 [INFO] root consoleworker.py:373	Created a folder for the test. /var/loadtest/logs/2021-09-16_11-55-53.766055
2021-09-16 11:55:53,812 [INFO] yandextank.core.tankcore tankcore.py:237	Configuring plugins...
2021-09-16 11:55:53,813 [INFO] yandextank.core.tankcore tankcore.py:190	Loading plugins...
2021-09-16 11:55:53,815 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin phantom from yandextank.plugins.Phantom
2021-09-16 11:55:53,816 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin telegraf from yandextank.plugins.Telegraf
2021-09-16 11:55:53,817 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin rcheck from yandextank.plugins.ResourceCheck
2021-09-16 11:55:53,818 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin json_report from yandextank.plugins.JsonReport
2021-09-16 11:55:53,824 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin rcassert from yandextank.plugins.RCAssert
2021-09-16 11:55:53,825 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin console from yandextank.plugins.Console
2021-09-16 11:55:53,828 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin shellexec from yandextank.plugins.ShellExec
2021-09-16 11:55:53,829 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin autostop from yandextank.plugins.Autostop
2021-09-16 11:55:53,831 [DEBUG] yandextank.core.tankcore tankcore.py:212	Plugin instances: {'plugin_phantom': <yandextank.plugins.Phantom.plugin.Plugin object at 0x7f4e8f0f9610>, 'plugin_autostop': <yandextank.plugins.Autostop.plugin.Plugin object at 0x7f4e8f0f9f50>, 'plugin_shellexec': <yandextank.plugins.ShellExec.plugin.Plugin object at 0x7f4e8f0f9d90>, 'plugin_console': <yandextank.plugins.Console.plugin.Plugin object at 0x7f4e8f0f9cd0>, 'plugin_rcassert': <yandextank.plugins.RCAssert.plugin.Plugin object at 0x7f4e8f0f9b10>, 'plugin_telegraf': <yandextank.plugins.Telegraf.plugin.Plugin object at 0x7f4e8f0f9590>, 'plugin_rcheck': <yandextank.plugins.ResourceCheck.plugin.Plugin object at 0x7f4e8f0f9190>, 'plugin_json_report': <yandextank.plugins.JsonReport.plugin.Plugin object at 0x7f4e8f0f9310>}
2021-09-16 11:55:53,832 [DEBUG] yandextank.core.tankcore tankcore.py:244	Configuring <yandextank.plugins.Phantom.plugin.Plugin object at 0x7f4e8f0f9610>
2021-09-16 11:55:53,833 [DEBUG] yandextank.core.tankcore tankcore.py:391	Searching for plugin: <class 'yandextank.plugins.Autostop.plugin.Plugin'>
2021-09-16 11:55:53,841 [DEBUG] yandextank.core.tankcore tankcore.py:446	Adding artifact file to collect (keep=False): /var/loadtest/logs/2021-09-16_11-55-53.766055/answ_kbZeG5.log
2021-09-16 11:55:53,845 [DEBUG] yandextank.core.tankcore tankcore.py:446	Adding artifact file to collect (keep=False): /var/loadtest/logs/2021-09-16_11-55-53.766055/phout_mD3fiT.log
2021-09-16 11:55:53,846 [DEBUG] yandextank.core.tankcore tankcore.py:446	Adding artifact file to collect (keep=False): /var/loadtest/logs/2021-09-16_11-55-53.766055/phantom_stat_secN7N.log
2021-09-16 11:55:53,850 [DEBUG] yandextank.core.tankcore tankcore.py:446	Adding artifact file to collect (keep=False): /var/loadtest/logs/2021-09-16_11-55-53.766055/phantom_qYL8bX.log
2021-09-16 11:55:53,851 [DEBUG] yandextank.common.util util.py:479	Trying to resolve address string: 192.168.1.73:9999
2021-09-16 11:55:53,853 [DEBUG] yandextank.common.util util.py:516	Parsing port
2021-09-16 11:55:53,853 [DEBUG] yandextank.common.util util.py:527	Lookup result: [(2, 1, 6, '', ('192.168.1.73', 9999)), (2, 2, 17, '', ('192.168.1.73', 9999)), (2, 3, 0, '', ('192.168.1.73', 9999))]
2021-09-16 11:55:53,854 [INFO] yandextank.common.util util.py:546	Testing connection to resolved address 192.168.1.73 and port 9999
2021-09-16 11:55:53,856 [INFO] yandextank.plugins.Phantom.utils utils.py:278	Resolved 192.168.1.73 into 192.168.1.73:9999
2021-09-16 11:55:53,857 [INFO] yandextank.stepper.main main.py:161	Configuring StepperWrapper...
2021-09-16 11:55:53,858 [DEBUG] yandextank.stepper.main main.py:140	Option ammofile = ammo-f.txt
2021-09-16 11:55:53,860 [DEBUG] yandextank.stepper.main main.py:140	Option ammo_type = phantom
2021-09-16 11:55:53,861 [DEBUG] yandextank.stepper.main main.py:140	Option loop = -1
2021-09-16 11:55:53,861 [DEBUG] yandextank.stepper.main main.py:140	Option ammo_limit = -1
2021-09-16 11:55:53,862 [DEBUG] yandextank.stepper.main main.py:140	Option load_profile = {'load_type': 'rps', 'schedule': 'line(100, 400, 2m)'}
2021-09-16 11:55:53,863 [DEBUG] yandextank.stepper.main main.py:140	Option instances = 1000
2021-09-16 11:55:53,864 [DEBUG] yandextank.stepper.main main.py:140	Option uris = []
2021-09-16 11:55:53,866 [DEBUG] yandextank.stepper.main main.py:140	Option headers = []
2021-09-16 11:55:53,868 [DEBUG] yandextank.stepper.main main.py:140	Option header_http = 1.0
2021-09-16 11:55:53,868 [DEBUG] yandextank.stepper.main main.py:140	Option autocases = 0
2021-09-16 11:55:53,869 [DEBUG] yandextank.stepper.main main.py:140	Option enum_ammo = False
2021-09-16 11:55:53,870 [DEBUG] yandextank.stepper.main main.py:140	Option use_caching = True
2021-09-16 11:55:53,871 [DEBUG] yandextank.stepper.main main.py:140	Option file_cache = 8192
2021-09-16 11:55:53,871 [DEBUG] yandextank.stepper.main main.py:140	Option cache_dir = None
2021-09-16 11:55:53,872 [DEBUG] yandextank.stepper.main main.py:140	Option force_stepping = 0
2021-09-16 11:55:53,873 [DEBUG] yandextank.stepper.main main.py:140	Option load_profile = {'load_type': 'rps', 'schedule': 'line(100, 400, 2m)'}
2021-09-16 11:55:53,873 [DEBUG] yandextank.stepper.main main.py:140	Option chosen_cases = 
2021-09-16 11:55:53,875 [DEBUG] yandextank.stepper.main main.py:269	stpd-hash source: cache version 6|line(100, 400, 2m)|-1|-1|line(100, 400, 2m)|0|||1.0||False|phantom|/var/loadtest/ammo-f.txt;33188;2958050;125;1;0;0;471;1631793324.11
2021-09-16 11:55:53,876 [DEBUG] yandextank.stepper.main main.py:278	Generated cache file name: /var/loadtest/logs/ammo-f.txt_c84fe53f9885768ac30c25e839d97dae.stpd
2021-09-16 11:55:53,878 [INFO] yandextank.stepper.main main.py:300	Making stpd-file: /var/loadtest/logs/ammo-f.txt_c84fe53f9885768ac30c25e839d97dae.stpd
2021-09-16 11:55:53,879 [DEBUG] yandextank.stepper.info info.py:43	Published 1000 to instances
2021-09-16 11:55:53,880 [DEBUG] yandextank.stepper.info info.py:43	Published ['line(100, 400, 2m)'] to loadscheme
2021-09-16 11:55:53,881 [DEBUG] yandextank.stepper.info info.py:43	Published 120 to duration
2021-09-16 11:55:53,882 [DEBUG] yandextank.stepper.info info.py:43	Published [(100.0, 1), (103.0, 1), (105.0, 1), (108.0, 1), (110.0, 1), (113.0, 1), (115.0, 1), (118.0, 1), (120.0, 1), (123.0, 1), (125.0, 1), (128.0, 1), (130.0, 1), (133.0, 1), (135.0, 1), (138.0, 1), (140.0, 1), (143.0, 1), (145.0, 1), (148.0, 1), (150.0, 1), (153.0, 1), (155.0, 1), (158.0, 1), (160.0, 1), (163.0, 1), (165.0, 1), (168.0, 1), (170.0, 1), (173.0, 1), (175.0, 1), (178.0, 1), (180.0, 1), (183.0, 1), (185.0, 1), (188.0, 1), (190.0, 1), (193.0, 1), (195.0, 1), (198.0, 1), (200.0, 1), (203.0, 1), (205.0, 1), (208.0, 1), (210.0, 1), (213.0, 1), (215.0, 1), (218.0, 1), (220.0, 1), (223.0, 1), (225.0, 1), (228.0, 1), (230.0, 1), (233.0, 1), (235.0, 1), (238.0, 1), (240.0, 1), (243.0, 1), (245.0, 1), (248.0, 1), (250.0, 1), (253.0, 1), (255.0, 1), (258.0, 1), (260.0, 1), (263.0, 1), (265.0, 1), (268.0, 1), (270.0, 1), (273.0, 1), (275.0, 1), (278.0, 1), (280.0, 1), (283.0, 1), (285.0, 1), (288.0, 1), (290.0, 1), (293.0, 1), (295.0, 1), (298.0, 1), (300.0, 1), (303.0, 1), (305.0, 1), (308.0, 1), (310.0, 1), (313.0, 1), (315.0, 1), (318.0, 1), (320.0, 1), (323.0, 1), (325.0, 1), (328.0, 1), (330.0, 1), (333.0, 1), (335.0, 1), (338.0, 1), (340.0, 1), (343.0, 1), (345.0, 1), (348.0, 1), (350.0, 1), (353.0, 1), (355.0, 1), (358.0, 1), (360.0, 1), (363.0, 1), (365.0, 1), (368.0, 1), (370.0, 1), (373.0, 1), (375.0, 1), (378.0, 1), (380.0, 1), (383.0, 1), (385.0, 1), (388.0, 1), (390.0, 1), (393.0, 1), (395.0, 1), (398.0, 1), (400.0, 1)] to steps
2021-09-16 11:55:53,885 [DEBUG] netort.resource resource.py:134	Resource ammo-f.txt format detected: None.
2021-09-16 11:55:53,887 [INFO] yandextank.stepper.config config.py:108	Default ammo type ('phantom') used, use 'phantom.ammo_type' option to override it
2021-09-16 11:55:53,891 [INFO] yandextank.stepper.missile missile.py:103	Loading ammo from 'ammo-f.txt'
2021-09-16 11:55:53,892 [INFO] yandextank.stepper.config config.py:123	Using AmmoFileReader ammo reader
2021-09-16 11:55:53,897 [DEBUG] netort.resource resource.py:134	Resource ammo-f.txt format detected: None.
2021-09-16 11:55:53,903 [ERROR] root consoleworker.py:268	Exception occurred:
<class 'yandextank.stepper.module_exceptions.AmmoFileError'>: Unexpected end of file: read 467 bytes instead of 900
  File "/usr/local/lib/python2.7/dist-packages/yandextank/core/consoleworker.py", line 375, in run
    self.core.plugins_configure()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/core/tankcore.py", line 245, in plugins_configure
    plugin.configure()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/plugins/Phantom/plugin.py", line 72, in configure
    self.phantom_config = self.phantom.config_file

  File "/usr/local/lib/python2.7/dist-packages/yandextank/plugins/Phantom/utils.py", line 106, in config_file
    self._config_file = self.compose_config()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/plugins/Phantom/utils.py", line 114, in compose_config
    streams_config += stream.compose_config()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/plugins/Phantom/utils.py", line 288, in compose_config
    self.stepper_wrapper.prepare_stepper()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 228, in prepare_stepper
    self.__make_stpd_file()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 318, in __make_stpd_file
    stepper.write(os)

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 61, in write
    for missile in self.ammo:

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/format.py", line 19, in <genexpr>
    "%s %s %s\n%s\n" % (len(missile), timestamp, marker, missile)

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 48, in <genexpr>
    return ((timestamp, marker or self.marker(missile), missile)

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 43, in <genexpr>
    ammo

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 44, in <genexpr>
    for ammo in ((missile, marker or self.marker(missile))

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/missile.py", line 139, in __iter__
    % (len(missile), chunk_size))

2021-09-16 11:55:53,905 [INFO] root consoleworker.py:269	Trying to clean up
2021-09-16 11:55:53,909 [INFO] yandextank.core.tankcore tankcore.py:561	Releasing lock: /var/lock/lunapark_LScD5Y.lock
2021-09-16 11:55:53,915 [WARNING] root consoleworker.py:408	Job number is not available yet
2021-09-16 11:55:53,917 [WARNING] root consoleworker.py:415	Job number is not available yet
2021-09-16 11:55:53,925 [DEBUG] yandextank.core.tankcore tankcore.py:367	Collecting artifacts
2021-09-16 11:55:53,926 [INFO] yandextank.core.tankcore tankcore.py:368	Artifacts dir: /var/loadtest/logs/2021-09-16_11-55-53.766055
2021-09-16 11:55:53,927 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: /var/loadtest/logs/2021-09-16_11-55-53.766055/answ_kbZeG5.log to /var/loadtest/logs/2021-09-16_11-55-53.766055/answ_kbZeG5.log
2021-09-16 11:55:53,929 [WARNING] yandextank.core.tankcore tankcore.py:429	File already exists: /var/loadtest/logs/2021-09-16_11-55-53.766055/answ_kbZeG5.log
2021-09-16 11:55:53,931 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: /var/loadtest/logs/2021-09-16_11-55-53.766055/phantom_qYL8bX.log to /var/loadtest/logs/2021-09-16_11-55-53.766055/phantom_qYL8bX.log
2021-09-16 11:55:53,933 [WARNING] yandextank.core.tankcore tankcore.py:429	File already exists: /var/loadtest/logs/2021-09-16_11-55-53.766055/phantom_qYL8bX.log
2021-09-16 11:55:53,934 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: validation_error.yaml to /var/loadtest/logs/2021-09-16_11-55-53.766055/validation_error.yaml
2021-09-16 11:55:53,936 [WARNING] yandextank.core.tankcore tankcore.py:424	File not found to collect: validation_error.yaml
2021-09-16 11:55:53,938 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: /var/loadtest/logs/2021-09-16_11-55-53.766055/phantom_stat_secN7N.log to /var/loadtest/logs/2021-09-16_11-55-53.766055/phantom_stat_secN7N.log
2021-09-16 11:55:53,939 [WARNING] yandextank.core.tankcore tankcore.py:429	File already exists: /var/loadtest/logs/2021-09-16_11-55-53.766055/phantom_stat_secN7N.log
2021-09-16 11:55:53,940 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: /var/loadtest/logs/2021-09-16_11-55-53.766055/phout_mD3fiT.log to /var/loadtest/logs/2021-09-16_11-55-53.766055/phout_mD3fiT.log
2021-09-16 11:55:53,941 [WARNING] yandextank.core.tankcore tankcore.py:429	File already exists: /var/loadtest/logs/2021-09-16_11-55-53.766055/phout_mD3fiT.log
